<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Bancário - BANCOPINK</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">

    <!-- CSS Personalizado -->
    <link href="css/styles.css" rel="stylesheet">

    <style>
        .barbie-background {
            position: fixed;
            width: 100px;
            height: 100px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0.5;
            z-index: -1;
            animation: float 15s linear infinite;
            filter: drop-shadow(0 0 5px rgba(214, 51, 132, 0.5));
        }
        
        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg) scale(0.8);
            }
            100% {
                transform: translateY(-100px) rotate(360deg) scale(1.2);
            }
        }
        
        .barbie-logo {
            height: 40px;
            margin-right: 10px;
            filter: drop-shadow(0 0 3px rgba(255, 255, 255, 0.7));
        }

        /* Estilos para o ícone da Barbie na tela de boas-vindas */
        .welcome-screen .barbie-icon {
            width: 120px;
            height: 120px;
            object-fit: contain;
            animation: bounce 2s infinite;
            filter: drop-shadow(0 0 8px rgba(232, 62, 140, 0.6));
        }

        .barbie-spinner {
            color: #e83e8c !important;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }
    </style>
</head>
<body>
    <div id="barbieBackgrounds"></div>

    <div class="alert-container" id="alertContainer"></div>

    <div class="atm-container">

        <div class="atm-header">
            <h3>
                <img src="assets/s-l1200.png" alt="Barbie Logo" class="barbie-logo">BANCOPINK
            </h3>
            <p class="mb-0">Sistema de Autenticação Segura</p>
        </div>
        
        <div class="atm-body">
            
            <!-- 1: Inserção do cartão -->
            <div id="cardInsertState">
                <div class="card-slot" id="cardSlot">
                    <p class="text-muted m-0"><i class="bi bi-credit-card-2-front"></i> Insira seu cartão</p>
                </div>
                <button class="btn btn-pink w-100 py-3" id="insertCardBtn">
                    <i class="bi bi-arrow-down-circle"></i> Inserir Cartão
                </button>
                
                <div class="cancel-card-section" id="cancelCardSection">
                    <p class="text-muted">Problemas com seu cartão?</p>
                    <button class="btn btn-outline-danger w-100" id="cancelCardBtn">
                        <i class="bi bi-trash"></i> Cancelar Cartão
                    </button>
                </div>
            </div>
            
            <!-- 2: Inserção da senha -->
            <div id="passwordState" style="display: none;">
                <h5 class="text-center mb-4" style="color: var(--primary-color);">
                    <i class="bi bi-lock"></i> Digite sua senha
                </h5>
                
                <div class="password-display" id="passwordDisplay"></div>
                
                <div class="attempts-counter" id="attemptsCounter">
                    Tentativas restantes: 3
                </div>
                
                <div class="progress-container" id="progressContainer">
                    <div class="progress-bar" id="progressBar"></div>
                </div>
                
                <div class="keypad">
                    <button class="btn btn-light-pink key">1</button>
                    <button class="btn btn-light-pink key">2</button>
                    <button class="btn btn-light-pink key">3</button>
                    <button class="btn btn-light-pink key">4</button>
                    <button class="btn btn-light-pink key">5</button>
                    <button class="btn btn-light-pink key">6</button>
                    <button class="btn btn-light-pink key">7</button>
                    <button class="btn btn-light-pink key">8</button>
                    <button class="btn btn-light-pink key">9</button>
                    <button class="btn btn-outline-danger" id="clearBtn"><i class="bi bi-arrow-counterclockwise"></i></button>
                    <button class="btn btn-light-pink key">0</button>
                    <button class="btn btn-outline-warning" id="backspaceBtn"><i class="bi bi-backspace"></i></button>
                </div>
                
                <div class="action-buttons">
                    <button class="btn btn-danger" id="cancelBtn">
                        <i class="bi bi-x-circle"></i> Cancelar
                    </button>
                    <button class="btn btn-success" id="enterBtn">
                        <i class="bi bi-check-circle"></i> Entrar
                    </button>
                </div>
            </div>
            
            <!--3: Tela de boas-vindas-->
            <div id="welcomeState" class="welcome-screen" style="display: none;">
                <div class="icon">
                    <img src="assets/s-l1200.png" alt="Barbie" class="barbie-icon">
                </div>
                <h2>Bem-vindo, Cliente!</h2>
                <p>Autenticação realizada com sucesso</p>
                <p>Redirecionando para o o menu principal...</p>
                <div class="spinner-border barbie-spinner" role="status">
                    <span class="visually-hidden">Carregando...</span>
                </div>
            </div>
            
            <!-- 4: Cartão retido -->
            <div id="cardRetainedState" style="display: none;">
                <div class="security-lock">
                    <div class="icon">
                        <i class="bi bi-shield-lock-fill"></i>
                    </div>
                    <h3>Medidas de Segurança Ativadas</h3>
                    <p>Por motivos de segurança, seu cartão foi temporariamente retido.</p>
                    <div class="security-timer" id="securityTimer">02:00</div>
                    <p>O sistema será liberado automaticamente</p>
                </div>
            </div>
            
            <!--5: Cancelamento de cartão -->
            <div id="cardCancelState" style="display: none;">
                <div class="alert alert-danger text-center">
                    <h4><i class="bi bi-exclamation-triangle-fill"></i> Cancelar Cartão</h4>
                    <p>Tem certeza que deseja cancelar este cartão?</p>
                    <p class="fw-bold" id="cardNumberDisplay"></p>
                    <div class="d-flex justify-content-center gap-3 mt-4">
                        <button class="btn btn-outline-secondary" id="confirmCancelNo">
                            <i class="bi bi-x-lg"></i> Não
                        </button>
                        <button class="btn btn-danger" id="confirmCancelYes">
                            <i class="bi bi-check-lg"></i> Sim, Cancelar
                        </button>
                    </div>
                </div>
            </div>
            
            <!--6: Confirmação de cancelamento -->
            <div id="cardCancelConfirmedState" style="display: none;">
                <div class="alert alert-success text-center">
                    <h4><i class="bi bi-check-circle-fill"></i> Cartão Cancelado</h4>
                    <p>Seu cartão foi cancelado com sucesso.</p>
                    <p>Um novo cartão será enviado para seu endereço cadastrado em até 7 dias úteis.</p>
                    <button class="btn btn-pink mt-3 w-100" id="returnToMainBtn">
                        <i class="bi bi-arrow-left"></i> Voltar ao Início
                    </button>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <div>www.unifacems.edu.br | (99) 3333.3333</div>
            <div class="mt-1">Fran++/FRC | Sistema Bancário</div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script src="js/Sistema.js"></script>
    <script src="js/main.js"></script>

</body>
</html>